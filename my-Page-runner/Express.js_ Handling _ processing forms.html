<!DOCTYPE html>
<!-- saved from url=(0073)https://www.hacksparrow.com/webdev/express/handling-processing-forms.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Express.js: Handling / processing forms</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,user-scalable=1"><link rel="icon" type="image/png" href="https://www.hacksparrow.com/images/favicon.png"><meta name="description" content="How to handle forms in Express Forms can be submitted using the GET method or the POST method. GET method forms are recommended for simple forms like a search query or specifying a user id. The form ..."><link rel="stylesheet" href="./Express.js_ Handling _ processing forms_files/bundle.css"><link rel="stylesheet" href="./Express.js_ Handling _ processing forms_files/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"><link href="./Express.js_ Handling _ processing forms_files/css" rel="stylesheet"><link href="./Express.js_ Handling _ processing forms_files/css(1)" rel="stylesheet"><link href="./Express.js_ Handling _ processing forms_files/css(2)" rel="stylesheet"><meta property="og:url" content="https://www.hacksparrow.com/webdev/express/handling-processing-forms.html"><meta property="og:type" content="website"><meta property="og:title" content="Express.js: Handling / processing forms"><meta property="og:description" content="How to handle forms in Express Forms can be submitted using the GET method or the POST method. GET method forms are recommended for simple forms like a search query or specifying a user id. The form ..."><meta property="og:image" content="https://source.unsplash.com/200x200/?nature,water,sea,river,tree,space,cloud,sky,wave"><style type="text/css" data-fbcssmodules="css:fb.css.base css:fb.css.dialog css:fb.css.iframewidget css:fb.css.customer_chat_plugin_iframe">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:'lucida grande', tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:'lucida grande', tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_dialog_advanced{border-radius:8px;padding:10px}.fb_dialog_content{background:#fff;color:#373737}.fb_dialog_close_icon{background:url(https://z-p3-static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{left:5px;right:auto;top:5px}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://z-p3-static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://z-p3-static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://z-p3-static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{height:100%;left:0;margin:0;overflow:visible;position:absolute;top:-10000px;transform:none;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://z-p3-static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{background:none;height:auto;min-height:initial;min-width:initial;width:auto}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{clear:both;color:#fff;display:block;font-size:18px;padding-top:20px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .4);bottom:0;left:0;min-height:100%;position:absolute;right:0;top:0;width:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:sticky;top:0}.fb_dialog_content .dialog_header{background:linear-gradient(from(#738aba), to(#2c4987));border-bottom:1px solid;border-color:#043b87;box-shadow:white 0 1px 1px -1px inset;color:#fff;font:bold 14px Helvetica, sans-serif;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:linear-gradient(from(#4267B2), to(#2a4887));background-clip:padding-box;border:1px solid #29487d;border-radius:3px;display:inline-block;line-height:18px;margin-top:3px;max-width:85px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{background:none;border:none;color:#fff;font:bold 12px Helvetica, sans-serif;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://z-p3-static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #4a4a4a;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f5f6f7;border:1px solid #4a4a4a;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://z-p3-static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-position:50% 50%;background-repeat:no-repeat;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}
.fb_mpn_mobile_landing_page_slide_out{animation-duration:200ms;animation-name:fb_mpn_landing_page_slide_out;transition-timing-function:ease-in}.fb_mpn_mobile_landing_page_slide_out_from_left{animation-duration:200ms;animation-name:fb_mpn_landing_page_slide_out_from_left;transition-timing-function:ease-in}.fb_mpn_mobile_landing_page_slide_up{animation-duration:500ms;animation-name:fb_mpn_landing_page_slide_up;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_in{animation-duration:300ms;animation-name:fb_mpn_bounce_in;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_out{animation-duration:300ms;animation-name:fb_mpn_bounce_out;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_out_v2{animation-duration:300ms;animation-name:fb_mpn_fade_out;transition-timing-function:ease-in}.fb_customer_chat_bounce_in_v2{animation-duration:300ms;animation-name:fb_bounce_in_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_in_from_left{animation-duration:300ms;animation-name:fb_bounce_in_from_left;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_v2{animation-duration:300ms;animation-name:fb_bounce_out_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_from_left{animation-duration:300ms;animation-name:fb_bounce_out_from_left;transition-timing-function:ease-in}.fb_invisible_flow{display:inherit;height:0;overflow-x:hidden;width:0}@keyframes fb_mpn_landing_page_slide_out{0%{margin:0 12px;width:100% - 24px}60%{border-radius:18px}100%{border-radius:50%;margin:0 24px;width:60px}}@keyframes fb_mpn_landing_page_slide_out_from_left{0%{left:12px;width:100% - 24px}60%{border-radius:18px}100%{border-radius:50%;left:12px;width:60px}}@keyframes fb_mpn_landing_page_slide_up{0%{bottom:0;opacity:0}100%{bottom:24px;opacity:1}}@keyframes fb_mpn_bounce_in{0%{opacity:.5;top:100%}100%{opacity:1;top:0}}@keyframes fb_mpn_fade_out{0%{bottom:30px;opacity:1}100%{bottom:0;opacity:0}}@keyframes fb_mpn_bounce_out{0%{opacity:1;top:0}100%{opacity:.5;top:100%}}@keyframes fb_bounce_in_v2{0%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}50%{transform:scale(1.03, 1.03);transform-origin:bottom right}100%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}}@keyframes fb_bounce_in_from_left{0%{opacity:0;transform:scale(0, 0);transform-origin:bottom left}50%{transform:scale(1.03, 1.03);transform-origin:bottom left}100%{opacity:1;transform:scale(1, 1);transform-origin:bottom left}}@keyframes fb_bounce_out_v2{0%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}100%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}}@keyframes fb_bounce_out_from_left{0%{opacity:1;transform:scale(1, 1);transform-origin:bottom left}100%{opacity:0;transform:scale(0, 0);transform-origin:bottom left}}@keyframes slideInFromBottom{0%{opacity:.1;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}@keyframes slideInFromBottomDelay{0%{opacity:0;transform:translateY(100%)}97%{opacity:0;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}</style></head><body class="is-page"><div id="mobile-toolbar" class="c-dragger"><div class="leftIcons"><a href="https://www.hacksparrow.com/" title="Home" id="home-icon"><i class="fas fa-home"></i></a></div><div class="rightIcons"><i title="Search this website (alt+space or /)" class="fas fa-search"></i><i title="About me &amp; the website" class="fas fa-user-cog"></i></div></div><section id="info-settings" class="c-ui-container c-hidden c-fixed-center"><div class="c-toolbar c-dragger"><div class="c-dialog-window-buttons"><div title="Close" class="c-close c-ui"><i></i></div></div><div class="c-tab-buttons"><div class="c-tab c-tab-active">About me</div><div class="c-tab c-hidden">Settings</div><div class="c-tab">Info</div></div></div><div class="c-content-area"><div id="c-about"><img src="./Express.js_ Handling _ processing forms_files/me.jpg" onmouseover="this.src = &#39;/images/favicon.png&#39;"><h3>Hage Yaapa</h3><p>Seeker of knowledge, hacker of things. Lover of cats. Owner of unmatched enthusiasm.</p><p id="social"><a href="https://github.com/hacksparrow" title="My GitHub account - @hacksparrow"><i class="fab fa-github"></i></a> <a href="https://twitter.com/hacksparrow/" title="My Twitter account - @hacksparrow"><i class="fab fa-twitter"></i></a> <a href="mailto:captain@hxcksparrow.com" title="Send me an e-mail - captain@hxcksparrow.com"><i class="fas fa-envelope"></i></a></p></div><!----><!----></div></section><div id="inline-search" class="c-ui-container c-fixed-center c-hidden"><div class="inline-search-box c-dragger"><i class="fas fa-search"></i> <input id="inline-search-input" autocomplete="off"></div><div class="c-scrolling-container c-ui c-hidden"><ul id="inline-page-results" class="c-ui c-hidden page-list-ul"></ul></div></div><div id="bg-a" style="background-image: url(&quot;https://i.imgur.com/Lj1303Y.jpg&quot;); animation-name: fadeIn;"></div><div id="bg-b" style="animation-name: fadeOut;"></div><div id="wrapper"><div id="container" class="c-ui-container c-absolute c-top-0" v-bind:class="{ &#39;c-suggested-top&#39;: suggetContainerPosition }"><div id="toolbar" class="c-dragger"><div class="leftIcons"><a href="https://www.hacksparrow.com/" title="Home" id="home-icon"><i class="fas fa-home"></i></a></div><div class="rightIcons"><i title="Search this website (alt+space or /)" class="fas fa-search"></i><i title="About me &amp; the website" class="fas fa-user-cog"></i> <i title="Print this page" onclick="window.print()" class="fas fa-print"></i></div></div><div id="content-area"><aside><div id="aside"><div id="newsletter"><div id="subscribe"><input name="email" placeholder="Your email address"> <input name="name" placeholder="Your Name"><p>Subscribe to my newsletter.</p><input type="submit" value="Subscribe" onclick="return subscribe()"></div></div></div></aside><div id="article"><article class="main-content"><header class="post-metadata"><nav class="crumbs"><ul><li class="crumb"><a href="https://www.hacksparrow.com/">Home</a></li><li class="crumb"><a href="https://www.hacksparrow.com/webdev">webdev</a></li><li class="crumb"><a href="https://www.hacksparrow.com/webdev/express">express</a></li><li><a href="https://www.hacksparrow.com/webdev/express/handling-processing-forms.html">handling-processing-forms.html</a></li></ul></nav><h1 id="title">Express.js: Handling / processing forms</h1><div>May 24, 2019 &nbsp; Update: Aug 28, 2021</div><ul id="tags"><li><a href="https://www.hacksparrow.com/tags/express.js" rel="tag">#express.js</a></li><li><a href="https://www.hacksparrow.com/tags/form" rel="tag">#form</a></li><li><a href="https://www.hacksparrow.com/tags/text" rel="tag">#text</a></li><li><a href="https://www.hacksparrow.com/tags/json" rel="tag">#json</a></li><li><a href="https://www.hacksparrow.com/tags/file" rel="tag">#file</a></li><li><a href="https://www.hacksparrow.com/tags/files" rel="tag">#files</a></li><li><a href="https://www.hacksparrow.com/tags/multer" rel="tag">#multer</a></li><li><a href="https://www.hacksparrow.com/tags/axios" rel="tag">#axios</a></li></ul></header><main><h2 class="anchor" id="how-to-handle-forms-in-express">How to handle forms in Express<span class="mark"><a href="https://www.hacksparrow.com/webdev/express/handling-processing-forms.html#how-to-handle-forms-in-express">#</a></span></h2><p>Forms can be submitted using the GET method or the POST method.</p><p>GET method forms are recommended for simple forms like a search query or specifying a user id. The form submission details are passed in the request URL and can be seen in the browser address bar.</p><p>POST method forms are recommended for forms with sensitive data such as user login; and forms which send a lot of data to the backend, such as submitting an article. For file uploads, POST method is the only way.</p><p></p><div class="info">Just as <a href="https://en.wikipedia.org/wiki/IP_over_Avian_Carriers">birds can be used for carrying Internet Protocol traffic</a>, file uploads can be implemented using other ways too, but that does not mean one should.</div><p></p><p>Let's see how form submissions are handled in Express.</p><h3 class="anchor" id="1-handling-get-forms">1. Handling GET forms<span class="mark"><a href="https://www.hacksparrow.com/webdev/express/handling-processing-forms.html#1-handling-get-forms">#</a></span></h3><p>There are two ways of sending data to Express using the GET method:</p><ol><li>GET parameters</li><li>Using named placeholders</li></ol><p>Both these methods work right out of the box, you don't need to install any packages to make them work.</p><h4 class="anchor" id="a-get-parameters">a. GET Parameters<span class="mark"><a href="https://www.hacksparrow.com/webdev/express/handling-processing-forms.html#a-get-parameters">#</a></span></h4><p>GET Parameters are the standard for GET form submissions across all browsers and backend systems. It consists of a key and a value in the URL string, specified after a <code>?</code>. More than one key-value pairs can be specified by using <code>&amp;</code> as a demarcator.</p><p>The submitted data is accessible in the <code>req.query</code> object.</p><p>If this is the URL:</p><pre><code class="language-url">http://localhost:5000/books?category=biographies&amp;type=paperback</code></pre><p>You can access the GET parameters in Express, this way:</p><pre><code class="language-js hljs javascript">app.get(<span class="hljs-string">'/books'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Category: '</span> + req.query[<span class="hljs-string">'category'</span>]);
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Type: '</span> + req.query[<span class="hljs-string">'type'</span>]);
});</code></pre><h4 class="anchor" id="b-named-placeholders">b. Named Placeholders<span class="mark"><a href="https://www.hacksparrow.com/webdev/express/handling-processing-forms.html#b-named-placeholders">#</a></span></h4><p>Named placeholder is non-standard, Express feature, it uses URL segments for sending data to the app.</p><p>The submitted data is accessible in the <code>req.params</code> object.</p><p>Considering this URL:</p><pre><code class="language-url">http://localhost:5000/user/313</code></pre><p>The named placeholder is defined and accessed this way:</p><pre><code class="language-js hljs javascript">app.get(<span class="hljs-string">'/user/:id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) </span>{
  res.send(<span class="hljs-string">'user '</span> + req.params.id);
});</code></pre><h3 class="anchor" id="2-handling-post-forms">2. Handling POST forms<span class="mark"><a href="https://www.hacksparrow.com/webdev/express/handling-processing-forms.html#2-handling-post-forms">#</a></span></h3><p>Express can handle three types of data submitted via the POST method.</p><ol><li>Text-only data</li><li>JSON data</li><li>Multipart data (file uploads)</li></ol><h4 class="anchor" id="a-handling-text-only-data">a. Handling text-only data<span class="mark"><a href="https://www.hacksparrow.com/webdev/express/handling-processing-forms.html#a-handling-text-only-data">#</a></span></h4><p>If you want to handle text data submitted via the POST method, you are in luck. You don't have to install any packages. Express has an in-built middleware <code>express.urlencoded</code>, which you can use to process the text data.</p><p>The processed form data is available on the <code>body</code> property of the request object.</p><p>The form:</p><div class="code-file"><div class="code-file-name"><span class="name"><i class="fas fa-file-alt"></i>./public/login.html</span></div><pre><code class="language-html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/handler"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></code></pre></div><p></p><div class="tip">The HTML <code>form</code> element has an attribute named <code>enctype</code>, if not specified, its value defaults to "application/x-www-form-urlencoded" (URL encoded form). The <code>express.urlencoded</code> middleware can handle URL encoded forms only.<p></p><p>Unless you are uploading files, <code>express.urlencoded</code> is all you need for processing forms.</p></div><p></p><p>The app:</p><div class="code-file"><div class="code-file-name"><span class="name"><i class="fas fa-file-alt"></i>./app.js</span></div><pre><code class="language-js hljs javascript"><span class="hljs-keyword">var</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">var</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">var</span> app = express();
app.use(express.urlencoded({ <span class="hljs-attr">extended</span>: <span class="hljs-literal">false</span> }));
app.use(express.static(path.join(__dirname, <span class="hljs-string">'public'</span>)));

app.post(<span class="hljs-string">'/handler'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">req, res</span>) </span>{
  <span class="hljs-built_in">console</span>.log(req.body);
  res.send(req.body);
});

app.listen(<span class="hljs-number">5000</span>);</code></pre></div><p>The URL: <a href="http://localhost:5000/login.html">http://localhost:5000/login.html</a></p><h4 class="anchor" id="b-handling-json-data">b. Handling JSON data<span class="mark"><a href="https://www.hacksparrow.com/webdev/express/handling-processing-forms.html#b-handling-json-data">#</a></span></h4><p>HTML forms cannot submit JSON data, but JavaScript clients and other apps can. Your Express app should be able to handle JSON data submitted via POST request.</p><p>Express has another in-built request data processing middleware, <code>express.json</code>, which is all you need for processing JSON data.</p><p>The client:</p><div class="code-file"><div class="code-file-name"><span class="name"><i class="fas fa-file-alt"></i>./client.js</span></div><pre><code class="language-js hljs javascript"><span class="hljs-comment">// https://github.com/axios/axios</span>
<span class="hljs-keyword">var</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">'axios'</span>);

axios({
  <span class="hljs-attr">method</span>: <span class="hljs-string">'post'</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">'http://localhost:5000/user'</span>,
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">firstName</span>: <span class="hljs-string">'Fred'</span>,
    <span class="hljs-attr">lastName</span>: <span class="hljs-string">'Flintstone'</span>
  }
})
.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">res</span>) </span>{
  <span class="hljs-built_in">console</span>.log(res.data);
})
.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
  <span class="hljs-built_in">console</span>.log(err);
});</code></pre></div><p>The app:</p><div class="code-file"><div class="code-file-name"><span class="name"><i class="fas fa-file-alt"></i>./app.js</span></div><pre><code class="language-js hljs javascript"><span class="hljs-keyword">var</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">var</span> app = express();
app.use(express.json());

app.post(<span class="hljs-string">'/user'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">req, res</span>) </span>{
  <span class="hljs-built_in">console</span>.log(req.body);
  res.send(req.body);
});

app.listen(<span class="hljs-number">5000</span>);</code></pre></div><h4 class="anchor" id="c-handling-file-uploads">c. Handling file uploads<span class="mark"><a href="https://www.hacksparrow.com/webdev/express/handling-processing-forms.html#c-handling-file-uploads">#</a></span></h4><p>Forms containing files are submitted by setting the <code>enctype</code> attribute of the <code>form</code> element to "multipart/form-data" (multipart form).</p><p>Processing multipart forms in Express require the installation of a multipart form processing module. Let's use the aptyly named <code>multer</code> for handling multipart forms in the next example.</p><p>The form:</p><div class="code-file"><div class="code-file-name"><span class="name"><i class="fas fa-file-alt"></i>./public/upload.html</span></div><pre><code class="language-html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/upload"</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">"multipart/form-data"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"title"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"wallpaper"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></code></pre></div><p>The app:</p><div class="code-file"><div class="code-file-name"><span class="name"><i class="fas fa-file-alt"></i>./app.js</span></div><pre><code class="language-js hljs javascript"><span class="hljs-keyword">var</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">var</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">var</span> app = express();
<span class="hljs-keyword">var</span> multer  = <span class="hljs-built_in">require</span>(<span class="hljs-string">'multer'</span>);

<span class="hljs-keyword">var</span> storage = multer.diskStorage({
  <span class="hljs-attr">destination</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">req, file, cb</span>) </span>{
    cb(<span class="hljs-literal">null</span>, <span class="hljs-string">'./public/images/'</span>);
  },
  <span class="hljs-attr">filename</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">req, file, cb</span>) </span>{
    cb(<span class="hljs-literal">null</span>, <span class="hljs-built_in">Date</span>.now() + file.originalname);
  }
});

<span class="hljs-keyword">var</span> upload = multer({ <span class="hljs-attr">storage</span>: storage });

app.use(express.static(path.join(__dirname, <span class="hljs-string">'public'</span>)));

app.post(<span class="hljs-string">'/upload'</span>, upload.single(<span class="hljs-string">'wallpaper'</span>), <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">req, res</span>) </span>{
  <span class="hljs-comment">// Text data from the form</span>
  <span class="hljs-built_in">console</span>.log(req.body);
  <span class="hljs-comment">// Details about the uploaded file</span>
  <span class="hljs-built_in">console</span>.log(req.file);
  <span class="hljs-keyword">var</span> imagePath = req.file.path.replace(<span class="hljs-regexp">/^public\//</span>, <span class="hljs-string">''</span>);
  res.redirect(imagePath);
});

app.listen(<span class="hljs-number">5000</span>);</code></pre></div><p>The URL: <a href="http://localhost:5000/upload.html">http://localhost:5000/upload.html</a></p><p>For a detailed explanation about this code, <code>multer</code>, and more advanced file upload usecases refer to <a href="https://www.hacksparrow.com/webdev/express/handling-file-uploads.html">"Express.js: Handling file uploads"</a>.</p><h2 class="anchor" id="summary">Summary<span class="mark"><a href="https://www.hacksparrow.com/webdev/express/handling-processing-forms.html#summary">#</a></span></h2><p>Express comes with in-built middleware for processing text and JSON data submitted via forms or by clients. Multipart forms containing text and files can be handled using the <code>multer</code> module. Text data are populated in the <code>req.body</code> object, file upload details are found in the <code>req.file</code> object.</p><h2 class="anchor" id="references">References<span class="mark"><a href="https://www.hacksparrow.com/webdev/express/handling-processing-forms.html#references">#</a></span></h2><ol><li><a href="https://www.hacksparrow.com/webdev/express/handling-file-uploads.html">Express.js: Handling file uploads</a></li><li>Express.js - <a href="https://expressjs.com/en/4x/api.html#express.urlencoded">express.urlencoded</a></li><li>Express.js - <a href="https://expressjs.com/en/4x/api.html#express.json">express.json</a></li><li><a href="https://github.com/expressjs/multer">multer</a></li><li><a href="https://github.com/axios/axios">axios</a></li></ol></main><div id="social-share" style="text-align:center;margin:20px auto;color:#dadada"><script src="./Express.js_ Handling _ processing forms_files/sdk.js.download" async="" crossorigin="anonymous"></script><script type="text/javascript" async="" src="./Express.js_ Handling _ processing forms_files/ga.js.download"></script><script id="facebook-jssdk" src="./Express.js_ Handling _ processing forms_files/sdk.js(1).download"></script><script>function share(el) {
  const winWidth = 600;
  const winHeight = 300;
  const winLeft = window.top.outerWidth/2 + window.top.screenX - (winWidth/2);
  const winTop = window.top.outerHeight/2 + window.top.screenY - (winHeight/2);
  const params = 'scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width='+winWidth+',height='+winHeight+',left='+winLeft+',top='+winTop;
  window.open(el.href, '', params);
  return false;
}</script><a style="padding:0 5px" rel="noopener noreferrer" target="_blank" onclick="return share(this)" href="https://twitter.com/intent/tweet?text=Express.js:%20Handling%20/%20processing%20forms%20-%20&amp;url=https://www.hacksparrow.com/webdev/express/handling-processing-forms.html"><i class="fab fa-twitter"></i> Tweet this</a> | <a style="padding:0 5px" rel="noopener noreferrer" target="_blank" onclick="return share(this)" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.hacksparrow.com/webdev/express/handling-processing-forms.html&amp;title=Express.js%3A%20Handling%20%2F%20processing%20forms&amp;summary=How%20to%20handle%20forms%20in%20Express%20Forms%20can%20be%20submitted%20using%20the%20GET%20method%20or%20the%20POST%20method.%20GET%20method%20forms%20are%20recommended%20for%20simple%20forms%20like%20a%20search%20query%20or%20specifying%20a%20user%20id.%20The%20form%20..."><i class="fab fa-linkedin"></i> Share on LinkedIn</a> | <span style="padding:0 5px" id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; width: 0px; height: 0px;"><div></div></div></span><script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));</script><span class="fb-share-button fb_iframe_widget" data-href="https://www.hacksparrow.com/webdev/express/handling-processing-forms.html" data-layout="button_count" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=&amp;container_width=0&amp;href=https%3A%2F%2Fwww.hacksparrow.com%2Fwebdev%2Fexpress%2Fhandling-processing-forms.html&amp;layout=button_count&amp;locale=en_US&amp;sdk=joey"><span style="vertical-align: bottom; width: 77px; height: 20px;"><iframe name="f13cf80dd65794" width="1000px" height="1000px" data-testid="fb:share_button Facebook Social Plugin" title="fb:share_button Facebook Social Plugin" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" allow="encrypted-media" src="./Express.js_ Handling _ processing forms_files/share_button.html" style="border: none; visibility: visible; width: 77px; height: 20px;" class=""></iframe></span></span></div></article><div id="related"><h2>Related</h2><ul class="page-list-ul"><li><span class="title-snippet"><a href="https://www.hacksparrow.com/webdev/express/handling-file-uploads.html" class="list-header">Express.js: Handling file uploads</a><p>How to handle file uploads in Express I briefly touched the subject of file uploads in Express in "Express.js: Handling / processing forms". Let's revisit that usecase and others in a more detailed m...</p></span><time datetime="May 24, 2019">May 24, 2019</time></li><li><span class="title-snippet"><a href="https://www.hacksparrow.com/webdev/express/how-to-server-static-html-files.html" class="list-header">Express.js: Serving static HTML files</a><p>How to serve static HTML files in Express.js Express.js comes with a badass HTML pre-processor, Jade, but sometimes you may just want to use the good old HTML files for whatever reason. Is there a wa...</p></span><time datetime="Feb 14, 2013">Feb 14, 2013</time></li><li><span class="title-snippet"><a href="https://www.hacksparrow.com/webdev/express/writing-middleware.html" class="list-header">Express.js: Writing middleware</a><p>How to write Express.js middleware First, let's understand what an Express middleware is. An Express middleware is a function which is allowed to be a part of Express's request-response cycle. This f...</p></span><time datetime="May 23, 2019">May 23, 2019</time></li></ul></div><footer><div>Copyright © 2021 Hage Yaapa</div></footer></div></div></div><script src="./Express.js_ Handling _ processing forms_files/highlight.min.js.download"></script><script>hljs.initHighlightingOnLoad();</script><script src="./Express.js_ Handling _ processing forms_files/vue.js.download"></script><script src="./Express.js_ Handling _ processing forms_files/bundle.js.download"></script><link rel="stylesheet" href="./Express.js_ Handling _ processing forms_files/codemirror.css"><script src="./Express.js_ Handling _ processing forms_files/javascript.js.download"></script><script src="./Express.js_ Handling _ processing forms_files/axios.min.js.download"></script><script>var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-28435166-1']);
        _gaq.push(['_trackPageview']);
      
        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();</script></div><iframe src="./Express.js_ Handling _ processing forms_files/globalstorage.html" style="position: absolute; width: 1px; height: 1px; left: -9999px;"></iframe></body></html>